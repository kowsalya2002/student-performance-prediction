<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prediction Result</title>
    <style>
        body {
            font-family: sans-serif;
            background-color: #f0f0f0;
            text-align: center;
            padding: 0;
            margin: 0;
        }

        header {
            background-color: hsl(199, 89%, 61%);
            color: #fff;
            text-align: center;
            padding: 20px;
        }

        nav {
            background-color: #fff;
            border-bottom: 1px solid #ddd;
            padding: 0.5rem 0;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: inline-flex;
            align-items: center;
        }

        nav li {
            margin: 0 1rem;
        }

        nav a {
            text-decoration: none;
            color: #333;
            font-size: 1rem;
            font-weight: bold;
        }

        .result-container {
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
            padding: 20px;
            margin: 50px auto;
            width: 600px;
            height: 400px;
        }

        h2 {
            color: hsl(199, 89%, 51%);
        }

        p {
            font-size: 18px;
            font-weight: bold;
        }

        #resultImage {
            max-width: 180px 180;
            display: block;
            margin: 50px auto;
        }

    </style>
</head>

<body>
    <header>
        <h3>STUDENT PERFORMANCE PREDICTION</h3>
    </header>

    <nav>
        <ul>
            <li><a href="index.html" class="nav_link"><h4>Home</h4></a></li>
        </ul>
    </nav>
    
    <div class="result-container">
        <h2>Prediction Result</h2>
        <p id="resultMessage"></p>
        <img id="resultImage" style="display: block;"> 
        <img src="{{ image }}" alt="Result Image" style="max-width: 180px;">
    </div>

    <script>
        window.onload = function () {
            let sub1 = parseFloat(localStorage.getItem('sub1')) || 0;
            let sub2 = parseFloat(localStorage.getItem('sub2')) || 0;
            let sub3 = parseFloat(localStorage.getItem('sub3')) || 0;
            let sub4 = parseFloat(localStorage.getItem('sub4')) || 0;
            let sub5 = parseFloat(localStorage.getItem('sub5')) || 0;

            let total = sub1 + sub2 + sub3 + sub4 + sub5;
            let hasFailed = sub1 < 40 || sub2 < 40 || sub3 < 40 || sub4 < 40 || sub5 < 40;

            let messageElement = document.getElementById("resultMessage");
            let imageElement = document.getElementById("resultImage");

            if (hasFailed) {
                messageElement.style.color = "red";
                messageElement.innerText = `Don't give up! Learn from mistakes and come back stronger!. Total Score: ${total} / 500`;
                imageElement.src = "study.jpg"; // Set to your "fail" image path
                imageElement.style.display = "block"; // Show the image
            } else {
                messageElement.style.color = "green";
                messageElement.innerText = `Congratulations! You passed! Keep up the great work!. Total Score: ${total} / 500`;
                imageElement.src = "a1.avif"; // Set to your "pass" image path
                imageElement.style.display = "block"; // Show the image
            }
        };
    </script>
</body>

</html>
